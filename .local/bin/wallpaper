#!/usr/bin/env bash

# Wallpaper picker menu using nsxiv for use with pywal

FOLDER=$WALLPAPER_DIR

menu () {
    if command -v nsxiv >/dev/null; then 
        CHOICE=$(nsxiv -otb $FOLDER/*)
        case $CHOICE in
            *.*) wal -i "$CHOICE" ;;
            *) exit 0 ;;
        esac
    else
        echo "nsxiv is not installed"
        exit 1
    fi
}

# If given argument:
# Argument will be used by pywal as wallpaper/dir path

case "$#" in
    0) menu ;;
    1) wal -i "$1" ;;
    *) exit 0 ;;
esac
